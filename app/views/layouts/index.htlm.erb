<h1>TODOs</h1>

<div class="tabs">
  <button class="tab" onclick="showTab('incomplete')">Incomplete</button>
  <button class="tab" onclick="showTab('complete')">Complete</button>
</div>

<div id="incomplete" class="tab-content">
  <h2>Incomplete Tasks</h2>
  <ul>
    <% @tasks.where(completed: false).each do |task| %>
      <li>
        <%= task.name %>
        <%= link_to 'Complete', complete_task_path(task), method: :patch %>
      </li>
    <% end %>
  </ul>
</div>

<div id="complete" class="tab-content" style="display:none;">
  <h2>Completed Tasks</h2>
  <ul>
    <% @tasks.where(completed: true).each do |task| %>
      <li><%= task.name %></li>
    <% end %>
  </ul>
</div>

<script>
  function showTab(tab) {
    document.querySelectorAll('.tab-content').forEach(content => content.style.display = 'none');
    document.getElementById(tab).style.display = 'block';
  }
</script>
